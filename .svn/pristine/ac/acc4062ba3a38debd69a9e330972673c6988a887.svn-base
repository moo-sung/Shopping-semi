<%@page import="dao.ProductDAO"%>
<%@page import="java.util.ArrayList"%>
<%@page import="dto.ProductDTO"%>
<%@page import="java.util.List"%>
<%@page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%
request.setCharacterEncoding("utf-8");

String orderBy=request.getParameter("orderBy");
if(orderBy==null) orderBy = "release_date";
String category=request.getParameter("category");
String keyword=request.getParameter("keyword");
List<ProductDTO> productlist = new ArrayList<ProductDTO>();

if(keyword!=null){
	productlist = ProductDAO.getDAO().searchProductNameList(keyword);
} else if(category!=null){
	productlist = ProductDAO.getDAO().selectProductkindsList(category, orderBy);
} else {
	productlist = ProductDAO.getDAO().selectAllProductList(orderBy);
}
%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>nookyoon</title>
<link
	href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
	rel="stylesheet">
<link rel="stylesheet"
	href="<%=request.getContextPath()%>/css/common.css">
<link rel="icon" href="<%=request.getContextPath()%>/images/favicon.ico">
<style type="text/css">
/* CSS 작성 */
img {
	width: 400px;
	height: 500px;
}

#container .main {
	text-align: center;
}

#container .mainImg li {
	display: inline;
}

#container .mainImg img {
	margin: 10px;
}
</style>
</head>
<body>
	<div class="mainImg">
	<%-- 
	img src는 DB에서 getImg_source()
	href는 제품 상세 페이지에 쿼리스트링으로 전달
	--%>
		<ul>
			<%
			int i=0;
			for(;i < productlist.size(); i++){
			%>
			<li><a href=""><img src="<%=productlist.get(i).getImg_source() %>" /></a></li>
			<%} %>
		</ul>
	</div>
</body>
</html>